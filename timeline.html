<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7015chinasilkroad</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link title="timeline-styles" rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
    <script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
    <style>
        .timeline-container {
            width: 100%;
            height: 600px;
            margin: 50px 0;
        }
        .heritage-site {
            margin-bottom: 50px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: all 0.5s ease;
            opacity: 0.7;
            transform: scale(0.95);
            position: relative;
        }
        .heritage-site.active {
            opacity: 1;
            transform: scale(1);
            box-shadow: 0 0 20px rgba(139, 69, 19, 0.6);
            z-index: 1;
        }
        .heritage-site:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .card {
            border: 1px solid #ddd;
            transition: all 0.5s ease;
            background: #fff;
        }
        .heritage-site.active .card {
            border-color: #8B4513;
            background: #fff9f5;
        }
        .card-img-top {
            height: 200px;
            object-fit: cover;
            transition: all 0.5s ease;
        }
        .heritage-site.active .card-img-top {
            transform: scale(1.05);
        }
        .card-title {
            transition: all 0.3s ease;
        }
        .heritage-site.active .card-title {
            color: #8B4513;
            transform: scale(1.05);
        }
        .card-text {
            transition: all 0.3s ease;
        }
        .heritage-site.active .card-text {
            color: #333;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .heritage-site.highlight {
            animation: pulse 1s ease-in-out;
        }
        .timeline-event {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .timeline-event:hover {
            background-color: rgba(139, 69, 19, 0.1);
        }
        .timeline-event.active {
            background-color: rgba(139, 69, 19, 0.2);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="img/silk-road-logo.jpg" alt="Silk Road Logo">
                Silk Road Digital Project
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="map.html">Map</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="heritage.html">Heritage</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="timeline.html">Timeline</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="insight.html">Insight</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-5">
      <div class="row">
        <!-- 时间线 -->
        <div class="col-md-5">
          <ul class="list-group" id="timeline-list">
            <li class="list-group-item active" data-idx="0">
              <b>138 BC</b> Zhang Qian's Mission
            </li>
            <li class="list-group-item" data-idx="1">
              <b>97 AD</b> Ban Chao's Campaigns
            </li>
            <li class="list-group-item" data-idx="2">
              <b>629-645 AD</b> Xuanzang's Journey
            </li>
            <li class="list-group-item" data-idx="3">
              <b>1372 AD</b> Construction of Jiayuguan Pass
            </li>
            <li class="list-group-item" data-idx="4">
              <b>1645 AD</b> Construction of Potala Palace
            </li>
          </ul>
        </div>
        <!-- 景点卡片 -->
        <div class="col-md-7">
          <div id="heritage-cards"></div>
        </div>
      </div>
    </div>

    <div class="container mt-5">
        <h2 class="text-center mb-4">Key Heritage Sites</h2>
        <div class="row">
            <!-- Key Heritage Sites 区域已移除，内容已合并到timeline_json事件中 -->
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>Silk Road Digital Project</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    const heritageData = [
      {
        img: "img/wild-goose.jpg",
        name: "Giant Wild Goose Pagoda",
        event: "Zhang Qian's Mission",
        date: "138 BC",
        desc: "Symbolizes the Silk Road's eastern start, built after Zhang Qian's mission."
      },
      {
        img: "img/jiaohe.jpg",
        name: "Jiaohe Ruins",
        event: "Ban Chao's Campaigns",
        date: "97 AD",
        desc: "A key military and trading outpost, secured by Ban Chao's campaigns."
      },
      {
        img: "img/mogao-mural.jpg",
        name: "Mogao Caves",
        event: "Xuanzang's Journey",
        date: "629-645 AD",
        desc: "Flourished as a Buddhist art center after Xuanzang's journey."
      },
      {
        img: "img/jiayuguan-pass.jpg",
        name: "Jiayuguan Pass",
        event: "Construction of Jiayuguan Pass",
        date: "1372 AD",
        desc: "The western terminus of the Ming Great Wall, built in 1372."
      },
      {
        img: "img/potala-palace.jpg",
        name: "Potala Palace",
        event: "Construction of Potala Palace",
        date: "1645 AD",
        desc: "A landmark of the southern Silk Road, built in 1645."
      }
    ];

    function renderHeritageCards(activeIdx = 0) {
      document.getElementById('heritage-cards').innerHTML = heritageData.map((h, idx) => `
        <div class="card mb-4 ${idx === activeIdx ? 'border-primary shadow' : ''}">
          <img src="${h.img}" class="card-img-top" alt="${h.name}" style="object-fit:cover;max-height:260px;">
          <div class="card-body">
            <h4 class="card-title">${h.name}</h4>
            <h6 class="text-muted">${h.event} <span class="small">(${h.date})</span></h6>
            <p class="card-text">${h.desc}</p>
          </div>
        </div>
      `).join('');
    }

    document.addEventListener('DOMContentLoaded', function() {
      renderHeritageCards(0);
      document.querySelectorAll('#timeline-list .list-group-item').forEach((item, idx) => {
        item.addEventListener('click', function() {
          document.querySelectorAll('#timeline-list .list-group-item').forEach(li => li.classList.remove('active'));
          this.classList.add('active');
          renderHeritageCards(idx);
        });
      });
    });
    </script>
</body>
</html> 